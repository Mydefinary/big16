server {
  listen 80;

  # /webtoon-hl 정적 파일 캐시
  location ~* ^/webtoon-hl/.*\.(js|css|png|jpg|jpeg|gif|ico|svg)$ {
    alias /usr/share/nginx/html/;
    expires 1y;
    add_header Cache-Control "public, immutable";
    try_files $uri =404;
  }

  # SPA fallback (서브패스)
  location /webtoon-hl/ {
    alias /usr/share/nginx/html/;
    index index.html;
    try_files $uri $uri/ /webtoon-hl/index.html;
  }

  # 루트 → 서브패스로 리다이렉트
  location = / { return 301 /webtoon-hl/; }

  # 그 외는 404
  location / { return 404; }
}
