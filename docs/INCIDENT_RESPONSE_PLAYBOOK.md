# Board-Lee ì¥ì•  ëŒ€ì‘ ê°€ì´ë“œ ë° í”Œë ˆì´ë¶

## ëª©ì°¨
1. [ì¥ì•  ëŒ€ì‘ ê°œìš”](#ì¥ì• -ëŒ€ì‘-ê°œìš”)
2. [ì¥ì•  ë¶„ë¥˜ ë° ìš°ì„ ìˆœìœ„](#ì¥ì• -ë¶„ë¥˜-ë°-ìš°ì„ ìˆœìœ„)
3. [ì¥ì•  ëŒ€ì‘ í”„ë¡œì„¸ìŠ¤](#ì¥ì• -ëŒ€ì‘-í”„ë¡œì„¸ìŠ¤)
4. [ì¼ë°˜ì ì¸ ì¥ì•  ì‹œë‚˜ë¦¬ì˜¤](#ì¼ë°˜ì ì¸-ì¥ì• -ì‹œë‚˜ë¦¬ì˜¤)
5. [ë‹¨ê³„ë³„ ëŒ€ì‘ ë°©ë²•](#ë‹¨ê³„ë³„-ëŒ€ì‘-ë°©ë²•)
6. [ë³µêµ¬ ë° ì‚¬í›„ ì¡°ì¹˜](#ë³µêµ¬-ë°-ì‚¬í›„-ì¡°ì¹˜)
7. [ì—°ë½ì²˜ ë° ì—ìŠ¤ì»¬ë ˆì´ì…˜](#ì—°ë½ì²˜-ë°-ì—ìŠ¤ì»¬ë ˆì´ì…˜)
8. [ì¥ì•  ëŒ€ì‘ ë„êµ¬](#ì¥ì• -ëŒ€ì‘-ë„êµ¬)

---

## ì¥ì•  ëŒ€ì‘ ê°œìš”

### ëª©í‘œ
- **ë¹ ë¥¸ ì„œë¹„ìŠ¤ ë³µêµ¬**: ì‚¬ìš©ì ì˜í–¥ ìµœì†Œí™”
- **ê·¼ë³¸ ì›ì¸ ë¶„ì„**: ì¬ë°œ ë°©ì§€
- **ì§€ì†ì ì¸ ê°œì„ **: ì‹œìŠ¤í…œ ì•ˆì •ì„± í–¥ìƒ

### í•µì‹¬ ì›ì¹™
1. **ì‚¬ìš©ì ìš°ì„ **: ì„œë¹„ìŠ¤ ë³µêµ¬ê°€ ìµœìš°ì„ 
2. **ëª…í™•í•œ ì†Œí†µ**: ëª¨ë“  ì´í•´ê´€ê³„ìì—ê²Œ ìƒí™© ê³µìœ 
3. **ë¬¸ì„œí™”**: ëª¨ë“  ì¡°ì¹˜ ì‚¬í•­ ê¸°ë¡
4. **ì‚¬í›„ ë¶„ì„**: ê°œì„ ì  ë„ì¶œ ë° ì ìš©

---

## ì¥ì•  ë¶„ë¥˜ ë° ìš°ì„ ìˆœìœ„

### ì‹¬ê°ë„ ë¶„ë¥˜

#### ğŸ”´ P1 - Critical (ì¹˜ëª…ì )
**ì •ì˜**: ì„œë¹„ìŠ¤ ì™„ì „ ì¤‘ë‹¨ ë˜ëŠ” ì£¼ìš” ê¸°ëŠ¥ ì‚¬ìš© ë¶ˆê°€
- ì „ì²´ ì‹œìŠ¤í…œ ë‹¤ìš´
- ë°ì´í„°ë² ì´ìŠ¤ ì™„ì „ ì ‘ê·¼ ë¶ˆê°€
- ë³´ì•ˆ ì¹¨í•´ ë°œìƒ
- ë°ì´í„° ì†ì‹¤

**ëª©í‘œ ëŒ€ì‘ ì‹œê°„**: 15ë¶„ ì´ë‚´ ì¸ì§€, 1ì‹œê°„ ì´ë‚´ ë³µêµ¬

#### ğŸŸ¡ P2 - High (ë†’ìŒ)
**ì •ì˜**: ì¼ë¶€ ê¸°ëŠ¥ ì¥ì•  ë˜ëŠ” ì„±ëŠ¥ ì‹¬ê°í•œ ì €í•˜
- íŠ¹ì • ê¸°ëŠ¥ ì‚¬ìš© ë¶ˆê°€ (íŒŒì¼ ì—…ë¡œë“œ ë“±)
- API ì‘ë‹µ ì‹œê°„ > 10ì´ˆ
- ì¼ë¶€ ì‚¬ìš©ì ì ‘ê·¼ ë¶ˆê°€
- ë©”ëª¨ë¦¬/CPU ì‚¬ìš©ë¥  > 95%

**ëª©í‘œ ëŒ€ì‘ ì‹œê°„**: 30ë¶„ ì´ë‚´ ì¸ì§€, 4ì‹œê°„ ì´ë‚´ ë³µêµ¬

#### ğŸŸ¢ P3 - Medium (ë³´í†µ)
**ì •ì˜**: ì‚¬ì†Œí•œ ê¸°ëŠ¥ ì´ìƒ ë˜ëŠ” ì„±ëŠ¥ ì €í•˜
- UI í‘œì‹œ ì˜¤ë¥˜
- API ì‘ë‹µ ì‹œê°„ 5-10ì´ˆ
- ë¡œê·¸ì— ê°„í—ì  ì˜¤ë¥˜ ë°œìƒ

**ëª©í‘œ ëŒ€ì‘ ì‹œê°„**: 2ì‹œê°„ ì´ë‚´ ì¸ì§€, 24ì‹œê°„ ì´ë‚´ ë³µêµ¬

#### âš« P4 - Low (ë‚®ìŒ)
**ì •ì˜**: ì‚¬ìš©ì ê²½í—˜ì— ë¯¸ë¯¸í•œ ì˜í–¥
- ë¬¸ì„œ ì˜¤íƒ€
- ë¹„í•„ìˆ˜ ê¸°ëŠ¥ ê°œì„  ì‚¬í•­

**ëª©í‘œ ëŒ€ì‘ ì‹œê°„**: ì—…ë¬´ì¼ ê¸°ì¤€ ëŒ€ì‘

---

## ì¥ì•  ëŒ€ì‘ í”„ë¡œì„¸ìŠ¤

### 1ë‹¨ê³„: ì¥ì•  ê°ì§€ ë° ì¸ì§€ (Detection)
```mermaid
graph TD
    A[ì•Œë¦¼ ìˆ˜ì‹ ] --> B{ì¥ì•  í™•ì¸}
    B -->|Yes| C[ì‹¬ê°ë„ íŒì •]
    B -->|No| D[False Positive ì²˜ë¦¬]
    C --> E[ëŒ€ì‘íŒ€ ì†Œì§‘]
    E --> F[ì´ˆê¸° ëŒ€ì‘ ì‹œì‘]
```

#### ì¥ì•  ê°ì§€ ê²½ë¡œ
- **ìë™ ëª¨ë‹ˆí„°ë§**: Prometheus ì•Œë¦¼, Kubernetes ì´ë²¤íŠ¸
- **ì‚¬ìš©ì ì‹ ê³ **: ê³ ê°ì§€ì›íŒ€ ë˜ëŠ” ì§ì ‘ ì‹ ê³ 
- **ìˆ˜ë™ í™•ì¸**: ì •ê¸° ì ê²€ ì¤‘ ë°œê²¬

#### ì´ˆê¸° í™•ì¸ ì ˆì°¨
```bash
# 1. ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸
curl -I http://20.249.113.18:9000/board/

# 2. Pod ìƒíƒœ í™•ì¸
kubectl get pods -n lee

# 3. ìµœê·¼ ì´ë²¤íŠ¸ í™•ì¸
kubectl get events -n lee --sort-by='.lastTimestamp' | head -10

# 4. ë¡œê·¸ í™•ì¸
kubectl logs -f deployment/board-backend-deployment-lee -n lee --tail=100
```

### 2ë‹¨ê³„: ì˜í–¥ ë²”ìœ„ í‰ê°€ (Assessment)
```bash
# ì˜í–¥ë°›ëŠ” ì‚¬ìš©ì ìˆ˜ ì¶”ì •
kubectl top pods -n lee

# ì¥ì•  ì§€ì† ì‹œê°„ í™•ì¸
kubectl describe pod <failing-pod-name> -n lee

# ê´€ë ¨ ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸
kubectl get services -n lee
```

### 3ë‹¨ê³„: ì¦‰ì‹œ ì¡°ì¹˜ (Immediate Response)
```bash
# ê¸´ê¸‰ ë³µêµ¬ ì¡°ì¹˜
kubectl rollout restart deployment/board-backend-deployment-lee -n lee

# íŠ¸ë˜í”½ ìš°íšŒ (í•„ìš”ì‹œ)
kubectl scale deployment board-backend-deployment-lee --replicas=0 -n lee

# ë°±ì—…ìœ¼ë¡œ ë¡¤ë°±
kubectl rollout undo deployment/board-backend-deployment-lee -n lee
```

### 4ë‹¨ê³„: ê·¼ë³¸ ì›ì¸ ë¶„ì„ (Root Cause Analysis)
```bash
# ìƒì„¸ ë¡œê·¸ ìˆ˜ì§‘
kubectl logs deployment/board-backend-deployment-lee -n lee --previous > incident-logs.txt

# ì‹œìŠ¤í…œ ë©”íŠ¸ë¦­ ìˆ˜ì§‘
kubectl top nodes
kubectl describe node <node-name>

# ë„¤íŠ¸ì›Œí¬ ì—°ê²° í™•ì¸
kubectl exec -it deployment/board-backend-deployment-lee -n lee -- netstat -tlnp
```

### 5ë‹¨ê³„: ë³µêµ¬ ë° ê²€ì¦ (Recovery & Validation)
```bash
# ë³µêµ¬ í™•ì¸
curl -s http://20.249.113.18:9000/board/api/actuator/health | jq .

# ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸
curl -X GET http://20.249.113.18:9000/board/api/posts

# ì„±ëŠ¥ ê²€ì¦
ab -n 100 -c 10 http://20.249.113.18:9000/board/api/posts
```

---

## ì¼ë°˜ì ì¸ ì¥ì•  ì‹œë‚˜ë¦¬ì˜¤

### ì‹œë‚˜ë¦¬ì˜¤ 1: Pod ì¬ì‹œì‘ ë°˜ë³µ ğŸ”„

#### ì¦ìƒ
- Podê°€ ê³„ì† CrashLoopBackOff ìƒíƒœ
- ì„œë¹„ìŠ¤ ê°„í—ì  ì ‘ê·¼ ë¶ˆê°€

#### ì§„ë‹¨ ì ˆì°¨
```bash
# 1. Pod ìƒíƒœ í™•ì¸
kubectl get pods -n lee -l app=board-backend-lee

# 2. Pod ë¡œê·¸ í™•ì¸
kubectl logs <pod-name> -n lee --previous

# 3. Pod ìƒì„¸ ì •ë³´ í™•ì¸
kubectl describe pod <pod-name> -n lee

# 4. ì´ë²¤íŠ¸ í™•ì¸
kubectl get events --field-selector involvedObject.name=<pod-name> -n lee
```

#### ëŒ€ì‘ ë°©ë²•
```bash
# ì¦‰ì‹œ ì¡°ì¹˜: ì´ë¯¸ì§€ ë¡¤ë°±
kubectl rollout undo deployment/board-backend-deployment-lee -n lee

# ë¦¬ì†ŒìŠ¤ í™•ì¸ ë° ì¡°ì •
kubectl patch deployment board-backend-deployment-lee -n lee -p '{"spec":{"template":{"spec":{"containers":[{"name":"board-backend-container","resources":{"limits":{"memory":"1Gi","cpu":"1000m"}}}]}}}}'

# ì„¤ì • ê²€ì¦
kubectl get configmap board-config -n lee -o yaml
```

### ì‹œë‚˜ë¦¬ì˜¤ 2: ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì‹¤íŒ¨ ğŸ—„ï¸

#### ì¦ìƒ
- API ìš”ì²­ ì‹œ 500 ì—ëŸ¬ ë°œìƒ
- "Connection refused" ë¡œê·¸ ë‹¤ìˆ˜ ë°œìƒ

#### ì§„ë‹¨ ì ˆì°¨
```bash
# 1. ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° í…ŒìŠ¤íŠ¸
kubectl exec -it deployment/board-backend-deployment-lee -n lee -- \
  curl -s http://localhost:8082/actuator/health/db

# 2. ë„¤íŠ¸ì›Œí¬ ì—°ê²° í™•ì¸
kubectl exec -it deployment/board-backend-deployment-lee -n lee -- \
  telnet <db-host> 3306

# 3. í™˜ê²½ ë³€ìˆ˜ í™•ì¸
kubectl exec deployment/board-backend-deployment-lee -n lee -- env | grep DB_
```

#### ëŒ€ì‘ ë°©ë²•
```bash
# ì—°ê²° í’€ ì¬ì„¤ì •
kubectl rollout restart deployment/board-backend-deployment-lee -n lee

# ë°ì´í„°ë² ì´ìŠ¤ ìƒíƒœ í™•ì¸
# Azure MySQLì˜ ê²½ìš° í¬í„¸ì—ì„œ í™•ì¸

# ì—°ê²° ì •ë³´ ìˆ˜ì • (í•„ìš”ì‹œ)
kubectl patch secret board-secrets -n lee -p '{"data":{"DB_PASSWORD":"<new-base64-encoded-password>"}}'
```

### ì‹œë‚˜ë¦¬ì˜¤ 3: ë©”ëª¨ë¦¬ ë¶€ì¡± (OOMKilled) ğŸ’¾

#### ì¦ìƒ
- Podê°€ OOMKilled ìƒíƒœë¡œ ì¬ì‹œì‘
- ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ê¸‰ê²©í•œ ì¦ê°€

#### ì§„ë‹¨ ì ˆì°¨
```bash
# 1. ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ í™•ì¸
kubectl top pods -n lee

# 2. Pod ì´ë²¤íŠ¸ í™•ì¸
kubectl describe pod <pod-name> -n lee | grep -A 5 -B 5 "OOMKilled"

# 3. ë©”ëª¨ë¦¬ ì„¤ì • í™•ì¸
kubectl get deployment board-backend-deployment-lee -n lee -o jsonpath='{.spec.template.spec.containers[0].resources}'
```

#### ëŒ€ì‘ ë°©ë²•
```bash
# ì¦‰ì‹œ ì¡°ì¹˜: ë©”ëª¨ë¦¬ ì œí•œ ì¦ê°€
kubectl patch deployment board-backend-deployment-lee -n lee -p '{
  "spec": {
    "template": {
      "spec": {
        "containers": [{
          "name": "board-backend-container",
          "resources": {
            "limits": {"memory": "1Gi"},
            "requests": {"memory": "512Mi"}
          }
        }]
      }
    }
  }
}'

# JVM í™ ë©”ëª¨ë¦¬ ì„¤ì • ì¡°ì •
kubectl patch deployment board-backend-deployment-lee -n lee -p '{
  "spec": {
    "template": {
      "spec": {
        "containers": [{
          "name": "board-backend-container",
          "env": [{"name": "JAVA_OPTS", "value": "-Xmx768m -Xms256m"}]
        }]
      }
    }
  }
}'
```

### ì‹œë‚˜ë¦¬ì˜¤ 4: íŒŒì¼ ì—…ë¡œë“œ ì‹¤íŒ¨ ğŸ“

#### ì¦ìƒ
- íŒŒì¼ ì—…ë¡œë“œ ì‹œ ì˜¤ë¥˜ ë°œìƒ
- "No space left on device" ì˜¤ë¥˜

#### ì§„ë‹¨ ì ˆì°¨
```bash
# 1. ë””ìŠ¤í¬ ì‚¬ìš©ëŸ‰ í™•ì¸
kubectl exec -it deployment/board-backend-deployment-lee -n lee -- df -h

# 2. ì—…ë¡œë“œ ë””ë ‰í† ë¦¬ í™•ì¸
kubectl exec -it deployment/board-backend-deployment-lee -n lee -- ls -la /app/uploads

# 3. PVC ìƒíƒœ í™•ì¸
kubectl get pvc -n lee
kubectl describe pvc board-files-pvc -n lee
```

#### ëŒ€ì‘ ë°©ë²•
```bash
# ì¦‰ì‹œ ì¡°ì¹˜: ì„ì‹œ íŒŒì¼ ì •ë¦¬
kubectl exec -it deployment/board-backend-deployment-lee -n lee -- \
  find /app/uploads -type f -mtime +30 -delete

# PVC ìš©ëŸ‰ ì¦ëŒ€
kubectl patch pvc board-files-pvc -n lee -p '{"spec":{"resources":{"requests":{"storage":"20Gi"}}}}'

# ìƒˆë¡œìš´ PVCë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜ (í•„ìš”ì‹œ)
kubectl create -f - <<EOF
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: board-files-pvc-new
  namespace: lee
spec:
  accessModes:
    - ReadWriteOnce
  resources:
    requests:
      storage: 50Gi
  storageClassName: managed-csi
EOF
```

### ì‹œë‚˜ë¦¬ì˜¤ 5: ë„¤íŠ¸ì›Œí¬ ì—°ê²° ë¬¸ì œ ğŸŒ

#### ì¦ìƒ
- ì„œë¹„ìŠ¤ ê°„ í†µì‹  ì‹¤íŒ¨
- Gatewayì—ì„œ 503 ì˜¤ë¥˜ ë°œìƒ

#### ì§„ë‹¨ ì ˆì°¨
```bash
# 1. ì„œë¹„ìŠ¤ ì—”ë“œí¬ì¸íŠ¸ í™•ì¸
kubectl get endpoints -n lee

# 2. ë„¤íŠ¸ì›Œí¬ ì •ì±… í™•ì¸
kubectl get networkpolicies -n lee

# 3. DNS í•´ìƒë„ í…ŒìŠ¤íŠ¸
kubectl exec -it deployment/board-backend-deployment-lee -n lee -- \
  nslookup board-frontend-service-lee.lee.svc.cluster.local

# 4. í¬íŠ¸ ì—°ê²° í…ŒìŠ¤íŠ¸
kubectl exec -it deployment/board-backend-deployment-lee -n lee -- \
  telnet board-frontend-service-lee 80
```

#### ëŒ€ì‘ ë°©ë²•
```bash
# ì„œë¹„ìŠ¤ ì¬ì‹œì‘
kubectl delete pod -l app=board-backend-lee -n lee

# DNS ìºì‹œ ì´ˆê¸°í™”
kubectl rollout restart deployment/coredns -n kube-system

# ì„œë¹„ìŠ¤ ì¬ìƒì„± (í•„ìš”ì‹œ)
kubectl delete service board-backend-service-lee -n lee
kubectl apply -f backend/k8s/board-backend-service.yaml
```

---

## ë‹¨ê³„ë³„ ëŒ€ì‘ ë°©ë²•

### ğŸš¨ P1 (Critical) ì¥ì•  ëŒ€ì‘

#### ì¦‰ì‹œ ì‹¤í–‰ (0-15ë¶„)
```bash
# 1. ì¥ì•  í™•ì¸ ë° íŒ€ ì†Œì§‘
send_slack_alert "CRITICAL: Board-Lee service is down" "critical"

# 2. ê¸´ê¸‰ ìš°íšŒ ì¡°ì¹˜
# - ë¡œë“œë°¸ëŸ°ì„œ í—¬ìŠ¤ì²´í¬ ì‹¤íŒ¨ ì²˜ë¦¬
# - ì ê²€ í˜ì´ì§€ í™œì„±í™” (í•„ìš”ì‹œ)

# 3. ë¹ ë¥¸ ë¡¤ë°±
kubectl rollout undo deployment/board-backend-deployment-lee -n lee
kubectl rollout undo deployment/board-frontend-deployment-lee -n lee
```

#### ë‹¨ê¸° ëŒ€ì‘ (15ë¶„-1ì‹œê°„)
```bash
# 1. ê·¼ë³¸ ì›ì¸ íŒŒì•…
kubectl logs deployment/board-backend-deployment-lee -n lee --previous > critical-incident.log

# 2. ë°ì´í„° ë¬´ê²°ì„± í™•ì¸
kubectl exec -it deployment/board-backend-deployment-lee -n lee -- \
  curl -s http://localhost:8082/actuator/health/db

# 3. ì„ì‹œ ìˆ˜ì • ë°°í¬
docker build -t board-backend-hotfix .
docker tag board-backend-hotfix kt16big.azurecr.io/board-backend-lee:hotfix
docker push kt16big.azurecr.io/board-backend-lee:hotfix
kubectl set image deployment/board-backend-deployment-lee \
  board-backend-container=kt16big.azurecr.io/board-backend-lee:hotfix -n lee
```

### ğŸŸ¡ P2 (High) ì¥ì•  ëŒ€ì‘

#### ì´ˆê¸° ëŒ€ì‘ (0-30ë¶„)
```bash
# 1. ì˜í–¥ ë²”ìœ„ í™•ì¸
kubectl get pods -n lee -o wide

# 2. ëª¨ë‹ˆí„°ë§ ê°•í™”
kubectl logs -f deployment/board-backend-deployment-lee -n lee

# 3. ì„ì‹œ ì¡°ì¹˜
kubectl scale deployment board-backend-deployment-lee --replicas=3 -n lee
```

#### ë³¸ê²© ëŒ€ì‘ (30ë¶„-4ì‹œê°„)
```bash
# 1. ìƒì„¸ ë¶„ì„
kubectl exec -it deployment/board-backend-deployment-lee -n lee -- \
  jstack 1 > thread-dump.txt

# 2. ì„¤ì • ìµœì í™”
kubectl patch deployment board-backend-deployment-lee -n lee -p '{
  "spec": {
    "template": {
      "spec": {
        "containers": [{
          "name": "board-backend-container",
          "env": [{"name": "SPRING_PROFILES_ACTIVE", "value": "production,optimized"}]
        }]
      }
    }
  }
}'
```

---

## ë³µêµ¬ ë° ì‚¬í›„ ì¡°ì¹˜

### ë³µêµ¬ ê²€ì¦ ì²´í¬ë¦¬ìŠ¤íŠ¸

#### âœ… ê¸°ëŠ¥ ê²€ì¦
```bash
# API ìƒíƒœ í™•ì¸
curl -s http://20.249.113.18:9000/board/api/actuator/health

# ê²Œì‹œê¸€ ëª©ë¡ ì¡°íšŒ
curl -s http://20.249.113.18:9000/board/api/posts | jq '.content | length'

# íŒŒì¼ ì—…ë¡œë“œ í…ŒìŠ¤íŠ¸
curl -X POST -F "title=í…ŒìŠ¤íŠ¸" -F "content=í…ŒìŠ¤íŠ¸ ë‚´ìš©" \
  -F "files=@test.pdf" \
  http://20.249.113.18:9000/board/api/posts

# ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° í™•ì¸
kubectl exec deployment/board-backend-deployment-lee -n lee -- \
  curl -s http://localhost:8082/actuator/health/db
```

#### âœ… ì„±ëŠ¥ ê²€ì¦
```bash
# ì‘ë‹µ ì‹œê°„ ì¸¡ì •
curl -w "@curl-format.txt" -o /dev/null -s \
  http://20.249.113.18:9000/board/api/posts

# ë¶€í•˜ í…ŒìŠ¤íŠ¸
ab -n 100 -c 10 http://20.249.113.18:9000/board/api/posts

# ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ í™•ì¸
kubectl top pods -n lee
```

### ì‚¬í›„ ì¡°ì¹˜ ì ˆì°¨

#### 1. ì¥ì•  ë³´ê³ ì„œ ì‘ì„±
```markdown
# ì¥ì•  ë³´ê³ ì„œ í…œí”Œë¦¿

## ì¥ì•  ê°œìš”
- **ë°œìƒ ì‹œê°„**: 2025-08-28 14:30:00 KST
- **ë³µêµ¬ ì‹œê°„**: 2025-08-28 15:15:00 KST
- **ì˜í–¥ ì‹œê°„**: 45ë¶„
- **ì‹¬ê°ë„**: P1 (Critical)

## ì˜í–¥ ë²”ìœ„
- **ì‚¬ìš©ì**: ì•½ 50ëª… (ì „ì²´ ì‚¬ìš©ì)
- **ê¸°ëŠ¥**: ì „ì²´ ì„œë¹„ìŠ¤ ì ‘ê·¼ ë¶ˆê°€
- **ë°ì´í„°**: ì†ì‹¤ ì—†ìŒ

## ê·¼ë³¸ ì›ì¸
- ë©”ëª¨ë¦¬ ë¶€ì¡±ìœ¼ë¡œ ì¸í•œ Pod OOMKilled
- JVM í™ ë©”ëª¨ë¦¬ ì„¤ì • ë¶€ì¡±

## ëŒ€ì‘ ì¡°ì¹˜
1. ì¦‰ì‹œ ì¡°ì¹˜: ì´ì „ ë²„ì „ìœ¼ë¡œ ë¡¤ë°±
2. ë‹¨ê¸° ì¡°ì¹˜: ë©”ëª¨ë¦¬ ì œí•œ ì¦ëŒ€
3. ì¥ê¸° ì¡°ì¹˜: JVM íŠœë‹ ë° ëª¨ë‹ˆí„°ë§ ê°•í™”

## ê°œì„  ì‚¬í•­
- [ ] JVM ë©”ëª¨ë¦¬ ì„¤ì • ìµœì í™”
- [ ] ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ì•Œë¦¼ ì„ê³„ê°’ ì¡°ì •
- [ ] ë¶€í•˜ í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ ì¶”ê°€
```

#### 2. Post-Mortem íšŒì˜
- **ì°¸ì„ì**: ê°œë°œíŒ€, ìš´ì˜íŒ€, ê´€ë¦¬ì
- **ì•ˆê±´**: 
  - ì¥ì•  ê²½ê³¼ ê²€í† 
  - ëŒ€ì‘ ê³¼ì • í‰ê°€
  - ê°œì„  ë°©ì•ˆ ë„ì¶œ
  - ì˜ˆë°© ì¡°ì¹˜ ìˆ˜ë¦½

#### 3. ì˜ˆë°© ì¡°ì¹˜ êµ¬í˜„
```bash
# ëª¨ë‹ˆí„°ë§ ì•Œë¦¼ ì„ê³„ê°’ ì¡°ì •
kubectl apply -f - <<EOF
apiVersion: monitoring.coreos.com/v1
kind: PrometheusRule
metadata:
  name: board-memory-alert
  namespace: lee
spec:
  groups:
  - name: board-memory
    rules:
    - alert: HighMemoryUsage
      expr: container_memory_usage_bytes / container_spec_memory_limit_bytes > 0.8
      for: 5m
      labels:
        severity: warning
      annotations:
        summary: "High memory usage detected"
EOF

# ë¦¬ì†ŒìŠ¤ ì œí•œ ì¡°ì •
kubectl patch deployment board-backend-deployment-lee -n lee -p '{
  "spec": {
    "template": {
      "spec": {
        "containers": [{
          "name": "board-backend-container",
          "resources": {
            "limits": {"memory": "1Gi", "cpu": "1000m"},
            "requests": {"memory": "512Mi", "cpu": "500m"}
          }
        }]
      }
    }
  }
}'
```

---

## ì—°ë½ì²˜ ë° ì—ìŠ¤ì»¬ë ˆì´ì…˜

### ëŒ€ì‘íŒ€ ì—°ë½ì²˜

#### 1ì°¨ ëŒ€ì‘íŒ€ (24/7)
```
íŒ€ì¥: ê¹€ê°œë°œ (010-1234-5678)
- Slack: @kim.dev
- Email: kim.dev@company.com
- ì—­í• : ì´ˆê¸° ëŒ€ì‘ ë° ì¡°ì¹˜

ë°±ì—”ë“œ ê°œë°œì: ë°•ë°±ì—”ë“œ (010-2345-6789)  
- Slack: @park.backend
- Email: park.backend@company.com
- ì—­í• : ë°±ì—”ë“œ ì´ìŠˆ ëŒ€ì‘

í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œì: ì´í”„ë¡ íŠ¸ (010-3456-7890)
- Slack: @lee.frontend  
- Email: lee.frontend@company.com
- ì—­í• : í”„ë¡ íŠ¸ì—”ë“œ ì´ìŠˆ ëŒ€ì‘
```

#### 2ì°¨ ì§€ì›íŒ€
```
ì¸í”„ë¼ ì—”ì§€ë‹ˆì–´: ìµœì¸í”„ë¼ (010-4567-8901)
- ì—­í• : Kubernetes, ë„¤íŠ¸ì›Œí¬ ì´ìŠˆ

ë°ì´í„°ë² ì´ìŠ¤ ê´€ë¦¬ì: ì •ë””ë¹„ (010-5678-9012)
- ì—­í• : ë°ì´í„°ë² ì´ìŠ¤ ê´€ë ¨ ì´ìŠˆ

ë³´ì•ˆ ë‹´ë‹¹ì: í•œë³´ì•ˆ (010-6789-0123)
- ì—­í• : ë³´ì•ˆ ì´ìŠˆ ëŒ€ì‘
```

### ì—ìŠ¤ì»¬ë ˆì´ì…˜ ê¸°ì¤€

#### P1 ì¥ì•  ì—ìŠ¤ì»¬ë ˆì´ì…˜
```
ì¦‰ì‹œ (0ë¶„): 1ì°¨ ëŒ€ì‘íŒ€ ì†Œì§‘
15ë¶„: 2ì°¨ ì§€ì›íŒ€ ëŒ€ê¸°
30ë¶„: ê²½ì˜ì§„ ë³´ê³ 
1ì‹œê°„: ê³ ê°ì‚¬ ê³µì§€ ê²€í† 
```

#### P2 ì¥ì•  ì—ìŠ¤ì»¬ë ˆì´ì…˜  
```
30ë¶„: 1ì°¨ ëŒ€ì‘íŒ€
2ì‹œê°„: 2ì°¨ ì§€ì›íŒ€ ì§€ì›
4ì‹œê°„: ê²½ì˜ì§„ ë³´ê³ 
```

### ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ ì±„ë„

#### Slack ì±„ë„
- `#board-lee-alerts`: ìë™ ì•Œë¦¼
- `#board-lee-incidents`: ì¥ì•  ëŒ€ì‘ ë…¼ì˜
- `#board-lee-general`: ì¼ë°˜ ì†Œí†µ

#### ìƒí™© ë³´ê³  í…œí”Œë¦¿
```
ğŸ”´ [P1 ì¥ì• ] Board-Lee ì„œë¹„ìŠ¤ ì¤‘ë‹¨

ë°œìƒì‹œê°„: 2025-08-28 14:30
í˜„ì¬ìƒí™©: ì „ì²´ ì„œë¹„ìŠ¤ ì ‘ê·¼ ë¶ˆê°€
ì›ì¸: ì¡°ì‚¬ ì¤‘
ì˜ˆìƒë³µêµ¬: 1ì‹œê°„ ì´ë‚´
ë‹´ë‹¹ì: @kim.dev

ì—…ë°ì´íŠ¸ëŠ” ì´ ìŠ¤ë ˆë“œì—ì„œ ê³„ì†ë©ë‹ˆë‹¤.
```

---

## ì¥ì•  ëŒ€ì‘ ë„êµ¬

### í•„ìˆ˜ ë„êµ¬ ëª©ë¡

#### ëª…ë ¹ì–´ ë„êµ¬
```bash
# kubectl ì„¤ì • í™•ì¸
kubectl config current-context

# ìì£¼ ì‚¬ìš©í•˜ëŠ” alias ì„¤ì •
alias k='kubectl'
alias kgp='kubectl get pods'
alias kgs='kubectl get services'
alias kge='kubectl get events --sort-by=.metadata.creationTimestamp'
alias klog='kubectl logs -f'
```

#### ëª¨ë‹ˆí„°ë§ ë„êµ¬
```bash
# ì‹œìŠ¤í…œ ìƒíƒœ í•œëˆˆì— ë³´ê¸°
watch -n 1 'kubectl get pods -n lee'

# ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§  
watch -n 5 'kubectl top pods -n lee'

# ë¡œê·¸ ì‹¤ì‹œê°„ ì¶”ì 
kubectl logs -f deployment/board-backend-deployment-lee -n lee | grep ERROR
```

#### ê¸´ê¸‰ ìŠ¤í¬ë¦½íŠ¸
```bash
#!/bin/bash
# emergency-restart.sh
echo "Emergency restart initiated at $(date)"
kubectl rollout restart deployment/board-backend-deployment-lee -n lee
kubectl rollout restart deployment/board-frontend-deployment-lee -n lee
kubectl rollout status deployment/board-backend-deployment-lee -n lee
kubectl rollout status deployment/board-frontend-deployment-lee -n lee
echo "Emergency restart completed at $(date)"
```

### ì¥ì•  ëŒ€ì‘ ì²´í¬ë¦¬ìŠ¤íŠ¸

#### âš¡ ì¦‰ì‹œ ì‹¤í–‰ (ì²« 15ë¶„)
- [ ] ì¥ì•  í™•ì¸ ë° ì‹¬ê°ë„ íŒì •
- [ ] ëŒ€ì‘íŒ€ ì†Œì§‘ (Slack ì•Œë¦¼)
- [ ] ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸
- [ ] ê¸´ê¸‰ ë³µêµ¬ ì¡°ì¹˜ ì‹¤í–‰
- [ ] ì´í•´ê´€ê³„ì ì•Œë¦¼

#### ğŸ” ìƒì„¸ ë¶„ì„ (15ë¶„-1ì‹œê°„)  
- [ ] ë¡œê·¸ ìˆ˜ì§‘ ë° ë¶„ì„
- [ ] ê·¼ë³¸ ì›ì¸ íŒŒì•…
- [ ] ì˜í–¥ ë²”ìœ„ ì •í™•í•œ í‰ê°€
- [ ] ë³µêµ¬ ê³„íš ìˆ˜ë¦½
- [ ] ì§„í–‰ ìƒí™© ì£¼ê¸°ì  ê³µìœ 

#### ğŸ“‹ ë³µêµ¬ í›„ ì¡°ì¹˜ (1ì‹œê°„ ì´í›„)
- [ ] ê¸°ëŠ¥ ë° ì„±ëŠ¥ ê²€ì¦
- [ ] ì‚¬ìš©ì ì˜í–¥ í‰ê°€
- [ ] ì¥ì•  ë³´ê³ ì„œ ì‘ì„±
- [ ] Post-Mortem íšŒì˜ ì¼ì •
- [ ] ì˜ˆë°© ì¡°ì¹˜ ê³„íš ìˆ˜ë¦½

ì´ í”Œë ˆì´ë¶ì„ í†µí•´ Board-Lee ì‹œìŠ¤í…œì˜ ì¥ì•  ìƒí™©ì— ì²´ê³„ì ì´ê³  íš¨ê³¼ì ìœ¼ë¡œ ëŒ€ì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.