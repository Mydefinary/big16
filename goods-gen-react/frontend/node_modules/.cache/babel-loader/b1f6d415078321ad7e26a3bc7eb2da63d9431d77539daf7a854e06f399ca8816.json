{"ast":null,"code":"import React,{useState}from\"react\";import axios from\"axios\";import NavBar from\"./NavBar.tsx\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const aspectRatios=[\"match_input_image\",\"1:1\",\"16:9\",\"9:16\",\"4:3\",\"3:4\",\"3:2\",\"2:3\",\"4:5\",\"5:4\",\"21:9\",\"9:21\",\"2:1\",\"1:2\"];const containerStyle={fontFamily:\"'Nanum Gothic', sans-serif\",backgroundColor:\"#ffffff\",minHeight:\"100vh\",margin:0,padding:0,overflowX:\"hidden\"};const mainContentStyle={display:\"flex\",gap:\"40px\",maxWidth:\"1440px\",margin:\"0 auto\",padding:\"0 20px\",alignItems:\"flex-start\",boxSizing:\"border-box\"};const formColumnStyle={flex:1,minWidth:\"400px\",textAlign:\"left\"};const outputColumnStyle={flex:1,minWidth:\"400px\",textAlign:\"left\",paddingTop:\"72px\"};const fileInputBoxStyle={width:'100%',padding:'8px',marginBottom:'16px',marginTop:'8px',border:'1px solid #ccc',borderRadius:'4px'};const imagePreviewFrameStyle={border:\"1px solid #ddd\",borderRadius:\"8px\",padding:\"10px\",marginTop:\"8px\",marginBottom:\"24px\",backgroundColor:\"#f9f9f9\",display:'flex',justifyContent:'center',alignItems:'center',minHeight:\"300px\",width:\"100%\",color:\"#aaa\",fontSize:\"14px\"};const promptBoxStyle={width:'100%',padding:'8px',marginBottom:'16px',borderRadius:'4px',border:'1px solid #ccc',minHeight:'40px',resize:'vertical'};const generateButtonStyle={width:'100%',height:'56px',padding:'14px',fontSize:'18px',fontWeight:'bold',backgroundColor:'#09AA5C',color:'white',border:'none',borderRadius:'5px',cursor:'pointer',marginTop:'20px'};const downloadButtonStyle={width:'100%',height:'56px',padding:'14px',fontSize:'18px',fontWeight:'bold',backgroundColor:'#09AA5C',color:'white',border:'none',borderRadius:'5px',cursor:'pointer',marginTop:'20px'};export default function GoodsForm(){const[prompt,setPrompt]=useState(\"Draw a realistic version of a short-sleeve white color T-shirt with this pig character printed on it.\");const[image,setImage]=useState(null);const[preview,setPreview]=useState(\"\");const[aspectRatio,setAspectRatio]=useState(\"1:1\");const[seed,setSeed]=useState(11);const[isRandomSeed,setIsRandomSeed]=useState(false);const[safetyTolerance,setSafetyTolerance]=useState(2);const[outputUrl,setOutputUrl]=useState(\"\");const[loading,setLoading]=useState(false);const handleImageUpload=e=>{var _e$target$files;const file=((_e$target$files=e.target.files)===null||_e$target$files===void 0?void 0:_e$target$files[0])||null;if(file){setImage(file);setPreview(URL.createObjectURL(file));}};const handleSubmit=async e=>{e.preventDefault();if(!image){alert(\"캐릭터 이미지를 업로드하세요.\");return;}const finalSeed=isRandomSeed?Math.floor(Math.random()*99999999):seed;const formData=new FormData();formData.append(\"prompt\",prompt);formData.append(\"input_image\",image);formData.append(\"aspect_ratio\",aspectRatio);formData.append(\"seed\",finalSeed.toString());formData.append(\"safety_tolerance\",safetyTolerance.toString());setLoading(true);setOutputUrl(\"\");try{// ✅ [핵심 수정] 1. 응답 타입을 'blob'으로 지정하여 이미지 데이터를 직접 받습니다.\nconst response=await axios.post(\"/api/goods-gen/generate\",formData,{responseType:'blob'});// ✅ [핵심 수정] 2. 받은 blob 데이터로 브라우저에서 사용할 수 있는 임시 URL을 생성합니다.\nconst imageUrl=URL.createObjectURL(response.data);setOutputUrl(imageUrl);}catch(error){var _error$response,_error$response$data;const errorMessage=((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||\"이미지 생성에 실패했습니다.\";alert(errorMessage);console.error(error);}finally{setLoading(false);}};// ✅ [수정] 다운로드 핸들러를 더 간단하게 변경\nconst handleDownload=()=>{var _link$parentNode;if(!outputUrl)return;const link=document.createElement(\"a\");link.href=outputUrl;link.setAttribute(\"download\",\"generated-goods.png\");document.body.appendChild(link);link.click();(_link$parentNode=link.parentNode)===null||_link$parentNode===void 0?void 0:_link$parentNode.removeChild(link);};return/*#__PURE__*/_jsxs(\"div\",{style:containerStyle,children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsxs(\"div\",{style:mainContentStyle,children:[/*#__PURE__*/_jsxs(\"div\",{style:formColumnStyle,children:[/*#__PURE__*/_jsx(\"h2\",{style:{marginBottom:\"30px\"},children:\"\\uC6F9\\uD230 \\uCE90\\uB9AD\\uD130 \\uAD7F\\uC988 \\uCD08\\uC548 \\uC0DD\\uC131\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"prompt\",style:{fontWeight:\"bold\",display:'block',marginBottom:'6px'},children:\"\\uD504\\uB86C\\uD504\\uD2B8\\uB97C \\uC601\\uC5B4\\uB85C \\uC785\\uB825\\uD558\\uC138\\uC694\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"prompt\",value:prompt,onChange:e=>setPrompt(e.target.value),style:promptBoxStyle}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"imageUpload\",style:{fontWeight:\"bold\",display:'block',marginBottom:'8px'},children:\"\\uC6F9\\uD230 \\uCE90\\uB9AD\\uD130 \\uC774\\uBBF8\\uC9C0\\uB97C \\uB123\\uC5B4\\uC8FC\\uC138\\uC694\"}),/*#__PURE__*/_jsx(\"input\",{id:\"imageUpload\",type:\"file\",accept:\"image/*\",onChange:handleImageUpload,style:fileInputBoxStyle}),/*#__PURE__*/_jsx(\"div\",{style:imagePreviewFrameStyle,children:preview?/*#__PURE__*/_jsx(\"img\",{src:preview,alt:\"Preview\",style:{maxWidth:\"100%\",maxHeight:\"300px\",height:\"auto\"}}):/*#__PURE__*/_jsx(\"p\",{children:\"\\uC774\\uBBF8\\uC9C0 \\uC5C5\\uB85C\\uB4DC \\uC2DC \\uC5EC\\uAE30\\uC5D0 \\uD45C\\uC2DC\\uB429\\uB2C8\\uB2E4.\"})}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"aspectRatio\",style:{fontWeight:\"bold\",marginBottom:'16px'},children:\"\\uC774\\uBBF8\\uC9C0 \\uBE44\\uC728\"}),/*#__PURE__*/_jsx(\"select\",{id:\"aspectRatio\",value:aspectRatio,onChange:e=>setAspectRatio(e.target.value),style:fileInputBoxStyle,children:aspectRatios.map(r=>/*#__PURE__*/_jsx(\"option\",{value:r,children:r},r))}),/*#__PURE__*/_jsx(\"label\",{style:{fontWeight:\"bold\",marginTop:\"20px\"},children:\"Seed \\uC124\\uC815\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:\"16px\",marginTop:\"8px\"},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",id:\"fixedSeed\",name:\"seedMode\",checked:!isRandomSeed,onChange:()=>setIsRandomSeed(false)}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"fixedSeed\",style:{marginLeft:\"4px\"},children:\"\\uACE0\\uC815\\uAC12 \\uC0AC\\uC6A9\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",id:\"randomSeed\",name:\"seedMode\",checked:isRandomSeed,onChange:()=>setIsRandomSeed(true)}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"randomSeed\",style:{marginLeft:\"4px\"},children:\"\\uB79C\\uB364\\uD558\\uAC8C \\uC0DD\\uC131\"})]})]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:seed,onChange:e=>setSeed(Number(e.target.value)),disabled:isRandomSeed,style:fileInputBoxStyle}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"safetyTolerance\",style:{fontWeight:\"bold\"},children:[\"Safety Tolerance(\\uD504\\uB86C\\uD504\\uD2B8 \\uC801\\uC6A9): \",safetyTolerance]}),/*#__PURE__*/_jsx(\"input\",{id:\"safetyTolerance\",type:\"range\",min:0,max:2,step:1,value:safetyTolerance,onChange:e=>setSafetyTolerance(Number(e.target.value)),style:{width:'100%',marginTop:'8px',marginBottom:'16px'}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,style:{...generateButtonStyle,backgroundColor:loading?\"#ccc\":\"#09AA5C\"},children:loading?\"생성 중...\":\"굿즈 초안 생성✨\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:outputColumnStyle,children:[/*#__PURE__*/_jsx(\"h3\",{style:{marginBottom:\"10px\"},children:\"\\uCD9C\\uB825 \\uC774\\uBBF8\\uC9C0\"}),/*#__PURE__*/_jsxs(\"div\",{style:imagePreviewFrameStyle,children:[loading&&/*#__PURE__*/_jsx(\"p\",{children:\"\\uC774\\uBBF8\\uC9C0\\uB97C \\uC0DD\\uC131 \\uC911\\uC785\\uB2C8\\uB2E4...\"}),!loading&&outputUrl?/*#__PURE__*/_jsx(\"img\",{src:outputUrl,alt:\"Generated\",style:{maxWidth:\"100%\",maxHeight:\"400px\",height:\"auto\"}}):!loading&&/*#__PURE__*/_jsx(\"p\",{style:{color:\"#aaa\"},children:\"\\uC0DD\\uC131\\uB41C \\uC774\\uBBF8\\uC9C0\\uAC00 \\uC5EC\\uAE30\\uC5D0 \\uD45C\\uC2DC\\uB429\\uB2C8\\uB2E4.\"})]}),outputUrl&&!loading&&/*#__PURE__*/_jsx(\"button\",{onClick:handleDownload,style:downloadButtonStyle,children:\"\\uD83D\\uDCE5 \\uC774\\uBBF8\\uC9C0 \\uB2E4\\uC6B4\\uB85C\\uB4DC\"})]})]})]});}","map":{"version":3,"names":["React","useState","axios","NavBar","jsx","_jsx","jsxs","_jsxs","aspectRatios","containerStyle","fontFamily","backgroundColor","minHeight","margin","padding","overflowX","mainContentStyle","display","gap","maxWidth","alignItems","boxSizing","formColumnStyle","flex","minWidth","textAlign","outputColumnStyle","paddingTop","fileInputBoxStyle","width","marginBottom","marginTop","border","borderRadius","imagePreviewFrameStyle","justifyContent","color","fontSize","promptBoxStyle","resize","generateButtonStyle","height","fontWeight","cursor","downloadButtonStyle","GoodsForm","prompt","setPrompt","image","setImage","preview","setPreview","aspectRatio","setAspectRatio","seed","setSeed","isRandomSeed","setIsRandomSeed","safetyTolerance","setSafetyTolerance","outputUrl","setOutputUrl","loading","setLoading","handleImageUpload","e","_e$target$files","file","target","files","URL","createObjectURL","handleSubmit","preventDefault","alert","finalSeed","Math","floor","random","formData","FormData","append","toString","response","post","responseType","imageUrl","data","error","_error$response","_error$response$data","errorMessage","console","handleDownload","_link$parentNode","link","document","createElement","href","setAttribute","body","appendChild","click","parentNode","removeChild","style","children","onSubmit","htmlFor","id","value","onChange","type","accept","src","alt","maxHeight","map","r","name","checked","marginLeft","Number","disabled","min","max","step","onClick"],"sources":["C:/Users/hoa/flux/goods-gen-react/frontend/src/components/GoodsForm.tsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport NavBar from \"./NavBar.tsx\";\r\n\r\nconst aspectRatios = [\r\n  \"match_input_image\", \"1:1\", \"16:9\", \"9:16\", \"4:3\", \"3:4\", \"3:2\", \"2:3\",\r\n  \"4:5\", \"5:4\", \"21:9\", \"9:21\", \"2:1\", \"1:2\"\r\n];\r\n\r\nconst containerStyle: React.CSSProperties = {\r\n  fontFamily: \"'Nanum Gothic', sans-serif\",\r\n  backgroundColor: \"#ffffff\",\r\n  minHeight: \"100vh\",\r\n  margin: 0,\r\n  padding: 0,\r\n  overflowX: \"hidden\",\r\n};\r\n\r\nconst mainContentStyle: React.CSSProperties = {\r\n  display: \"flex\",\r\n  gap: \"40px\",\r\n  maxWidth: \"1440px\",\r\n  margin: \"0 auto\",\r\n  padding: \"0 20px\",\r\n  alignItems: \"flex-start\",\r\n  boxSizing: \"border-box\",\r\n};\r\n\r\nconst formColumnStyle: React.CSSProperties = {\r\n  flex: 1,\r\n  minWidth: \"400px\",\r\n  textAlign: \"left\",\r\n};\r\n\r\nconst outputColumnStyle: React.CSSProperties = {\r\n  flex: 1,\r\n  minWidth: \"400px\",\r\n  textAlign: \"left\",\r\n  paddingTop: \"72px\",\r\n};\r\n\r\nconst fileInputBoxStyle: React.CSSProperties = {\r\n  width: '100%',\r\n  padding: '8px',\r\n  marginBottom: '16px',\r\n  marginTop: '8px',\r\n  border: '1px solid #ccc',\r\n  borderRadius: '4px',\r\n};\r\n\r\nconst imagePreviewFrameStyle: React.CSSProperties = {\r\n  border: \"1px solid #ddd\",\r\n  borderRadius: \"8px\",\r\n  padding: \"10px\",\r\n  marginTop: \"8px\",\r\n  marginBottom: \"24px\",\r\n  backgroundColor: \"#f9f9f9\",\r\n  display: 'flex',\r\n  justifyContent: 'center',\r\n  alignItems: 'center',\r\n  minHeight: \"300px\",\r\n  width: \"100%\",\r\n  color: \"#aaa\",\r\n  fontSize: \"14px\",\r\n};\r\n\r\nconst promptBoxStyle: React.CSSProperties = {\r\n  width: '100%',\r\n  padding: '8px',\r\n  marginBottom: '16px',\r\n  borderRadius: '4px',\r\n  border: '1px solid #ccc',\r\n  minHeight: '40px',\r\n  resize: 'vertical'\r\n};\r\n\r\nconst generateButtonStyle: React.CSSProperties = {\r\n  width: '100%',\r\n  height: '56px',\r\n  padding: '14px',\r\n  fontSize: '18px',\r\n  fontWeight: 'bold',\r\n  backgroundColor: '#09AA5C',\r\n  color: 'white',\r\n  border: 'none',\r\n  borderRadius: '5px',\r\n  cursor: 'pointer',\r\n  marginTop: '20px',\r\n};\r\n\r\nconst downloadButtonStyle: React.CSSProperties = {\r\n  width: '100%',\r\n  height: '56px',\r\n  padding: '14px',\r\n  fontSize: '18px',\r\n  fontWeight: 'bold',\r\n  backgroundColor: '#09AA5C',\r\n  color: 'white',\r\n  border: 'none',\r\n  borderRadius: '5px',\r\n  cursor: 'pointer',\r\n  marginTop: '20px',\r\n};\r\n\r\nexport default function GoodsForm() {\r\n  const [prompt, setPrompt] = useState(\"Draw a realistic version of a short-sleeve white color T-shirt with this pig character printed on it.\");\r\n  const [image, setImage] = useState<File | null>(null);\r\n  const [preview, setPreview] = useState<string>(\"\");\r\n  const [aspectRatio, setAspectRatio] = useState(\"1:1\");\r\n  const [seed, setSeed] = useState<number>(11);\r\n  const [isRandomSeed, setIsRandomSeed] = useState(false);\r\n  const [safetyTolerance, setSafetyTolerance] = useState(2);\r\n  const [outputUrl, setOutputUrl] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleImageUpload = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = e.target.files?.[0] || null;\r\n    if (file) {\r\n      setImage(file);\r\n      setPreview(URL.createObjectURL(file));\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!image) {\r\n      alert(\"캐릭터 이미지를 업로드하세요.\");\r\n      return;\r\n    }\r\n\r\n    const finalSeed = isRandomSeed ? Math.floor(Math.random() * 99999999) : seed;\r\n    const formData = new FormData();\r\n    formData.append(\"prompt\", prompt);\r\n    formData.append(\"input_image\", image);\r\n    formData.append(\"aspect_ratio\", aspectRatio);\r\n    formData.append(\"seed\", finalSeed.toString());\r\n    formData.append(\"safety_tolerance\", safetyTolerance.toString());\r\n\r\n    setLoading(true);\r\n    setOutputUrl(\"\");\r\n\r\n    try {\r\n      // ✅ [핵심 수정] 1. 응답 타입을 'blob'으로 지정하여 이미지 데이터를 직접 받습니다.\r\n      const response = await axios.post(\"/api/goods-gen/generate\", formData, {\r\n        responseType: 'blob',\r\n      });\r\n\r\n      // ✅ [핵심 수정] 2. 받은 blob 데이터로 브라우저에서 사용할 수 있는 임시 URL을 생성합니다.\r\n      const imageUrl = URL.createObjectURL(response.data);\r\n      setOutputUrl(imageUrl);\r\n\r\n    } catch (error: any) {\r\n      const errorMessage = error.response?.data?.error || \"이미지 생성에 실패했습니다.\";\r\n      alert(errorMessage);\r\n      console.error(error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // ✅ [수정] 다운로드 핸들러를 더 간단하게 변경\r\n  const handleDownload = () => {\r\n    if (!outputUrl) return;\r\n    const link = document.createElement(\"a\");\r\n    link.href = outputUrl;\r\n    link.setAttribute(\"download\", \"generated-goods.png\");\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    link.parentNode?.removeChild(link);\r\n  };\r\n\r\n  return (\r\n    <div style={containerStyle}>\r\n      <NavBar />\r\n      <div style={mainContentStyle}>\r\n        <div style={formColumnStyle}>\r\n          <h2 style={{ marginBottom: \"30px\" }}>웹툰 캐릭터 굿즈 초안 생성</h2>\r\n          <form onSubmit={handleSubmit}>\r\n            <label htmlFor=\"prompt\" style={{ fontWeight: \"bold\", display: 'block', marginBottom: '6px' }}>\r\n              프롬프트를 영어로 입력하세요\r\n            </label>\r\n            <textarea\r\n              id=\"prompt\"\r\n              value={prompt}\r\n              onChange={(e) => setPrompt(e.target.value)}\r\n              style={promptBoxStyle}\r\n            />\r\n\r\n            <label htmlFor=\"imageUpload\" style={{ fontWeight: \"bold\", display: 'block', marginBottom: '8px' }}>\r\n              웹툰 캐릭터 이미지를 넣어주세요\r\n            </label>\r\n            <input\r\n              id=\"imageUpload\"\r\n              type=\"file\"\r\n              accept=\"image/*\"\r\n              onChange={handleImageUpload}\r\n              style={fileInputBoxStyle}\r\n            />\r\n\r\n            <div style={imagePreviewFrameStyle}>\r\n              {preview ? (\r\n                <img src={preview} alt=\"Preview\" style={{ maxWidth: \"100%\", maxHeight: \"300px\", height: \"auto\" }} />\r\n              ) : (\r\n                <p>이미지 업로드 시 여기에 표시됩니다.</p>\r\n              )}\r\n            </div>\r\n\r\n            <label htmlFor=\"aspectRatio\" style={{ fontWeight: \"bold\", marginBottom: '16px' }}>이미지 비율</label>\r\n            <select\r\n              id=\"aspectRatio\"\r\n              value={aspectRatio}\r\n              onChange={(e) => setAspectRatio(e.target.value)}\r\n              style={fileInputBoxStyle}\r\n            >\r\n              {aspectRatios.map((r) => (\r\n                <option key={r} value={r}>{r}</option>\r\n              ))}\r\n            </select>\r\n\r\n            <label style={{ fontWeight: \"bold\", marginTop: \"20px\" }}>Seed 설정</label>\r\n            <div style={{ display: \"flex\", gap: \"16px\", marginTop: \"8px\" }}>\r\n              <div>\r\n                <input type=\"radio\" id=\"fixedSeed\" name=\"seedMode\" checked={!isRandomSeed} onChange={() => setIsRandomSeed(false)} />\r\n                <label htmlFor=\"fixedSeed\" style={{ marginLeft: \"4px\",}}>고정값 사용</label>\r\n              </div>\r\n              <div>\r\n                <input type=\"radio\" id=\"randomSeed\" name=\"seedMode\" checked={isRandomSeed} onChange={() => setIsRandomSeed(true)} />\r\n                <label htmlFor=\"randomSeed\" style={{ marginLeft: \"4px\",}}>랜덤하게 생성</label>\r\n              </div>\r\n            </div>\r\n            <input\r\n              type=\"number\"\r\n              value={seed}\r\n              onChange={(e) => setSeed(Number(e.target.value))}\r\n              disabled={isRandomSeed}\r\n              style={fileInputBoxStyle}\r\n            />\r\n\r\n            <label htmlFor=\"safetyTolerance\" style={{ fontWeight: \"bold\",}}>Safety Tolerance(프롬프트 적용): {safetyTolerance}</label>\r\n            <input\r\n              id=\"safetyTolerance\"\r\n              type=\"range\"\r\n              min={0}\r\n              max={2}\r\n              step={1}\r\n              value={safetyTolerance}\r\n              onChange={(e) => setSafetyTolerance(Number(e.target.value))}\r\n              style={{ width: '100%', marginTop: '8px', marginBottom: '16px' }}\r\n            />\r\n\r\n            <button\r\n              type=\"submit\"\r\n              disabled={loading}\r\n              style={{\r\n                ...generateButtonStyle,\r\n                backgroundColor: loading ? \"#ccc\" : \"#09AA5C\"\r\n              }}\r\n            >\r\n              {loading ? \"생성 중...\" : \"굿즈 초안 생성✨\"}\r\n            </button>\r\n          </form>\r\n        </div>\r\n\r\n        <div style={outputColumnStyle}>\r\n          <h3 style={{ marginBottom: \"10px\" }}>출력 이미지</h3>\r\n          <div style={imagePreviewFrameStyle}>\r\n            {loading && <p>이미지를 생성 중입니다...</p>}\r\n            {!loading && outputUrl ? (\r\n              <img src={outputUrl} alt=\"Generated\" style={{ maxWidth: \"100%\", maxHeight: \"400px\", height: \"auto\" }} />\r\n            ) : (\r\n              !loading && <p style={{ color: \"#aaa\" }}>생성된 이미지가 여기에 표시됩니다.</p>\r\n            )}\r\n          </div>\r\n          {outputUrl && !loading && (\r\n            <button onClick={handleDownload} style={downloadButtonStyle}>\r\n              📥 이미지 다운로드\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}